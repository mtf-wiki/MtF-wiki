{{- if hasPrefix .Destination "mailto:" -}}
{{- $text := replace (replace .Text "-" "--") "_" "__" -}}
<a class="shields" data-email="{{ .Destination | base64Encode }}">
  <img src="https://img.shields.io/badge/email-{{ $text }}-blue.svg?style=flat-square" />
</a>
{{- else -}}
<a href="{{ .Destination }}"{{ with .Title}} title="{{ . }}"{{ end }}>
{{- .Text | replaceRE "^https?://(www.?)?" "" | safeHTML -}}
</a>
{{- end -}}